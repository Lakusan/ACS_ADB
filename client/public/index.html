<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Single Page with Navbar</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.css" />

</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="#">Your Brand</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#section1">Section 1</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#section2">Section 2</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#section3">Section 3</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Content Sections -->
  <div id="section1" class="container">
    <h1>Section 1</h1>
    <div id="map" style="height: 400px;"></div>
  </div>



  <!-- Bootstrap JS (required for navbar toggle) -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
  <script>
$(document).ready(function() {
  var map = L.map('map').setView([40.7128, -74.0060], 12);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'
  }).addTo(map);

  var currentUrl = window.location.origin;
  var iconUrl = currentUrl + '/image/airplane.png';

  var airplaneIcon = L.icon({
    iconUrl: iconUrl,
    iconSize: [32, 32], // Adjust the size of the icon as needed
    iconAnchor: [16, 16], // Adjust the anchor point of the icon as needed
  });

  // Create an array of object data with initial coordinates
  var objects = [
    { id: 1, coordinates: [40.7128, -74.0060], type: 'flight' },
    { id: 2, coordinates: [41.8781, -87.6298], type: 'airport' },
    { id: 3, coordinates: [34.0522, -118.2437], type: 'flight' },
    { id: 4, coordinates: [51.5074, -0.1278], type: 'flight' },
    { id: 5, coordinates: [48.8566, 2.3522], type: 'flight' },
    { id: 6, coordinates: [35.6895, 139.6917], type: 'flight' },
    { id: 7, coordinates: [55.7558, 37.6176], type: 'flight' },
    { id: 8, coordinates: [52.5200, 13.4050], type: 'flight' },
    { id: 9, coordinates: [38.9072, -77.0369], type: 'flight' },
    { id: 10, coordinates: [33.6844, -117.8265], type: 'flight' },
    { id: 11, coordinates: [49.2827, -123.1207], type: 'flight' },
    { id: 12, coordinates: [35.1796, -80.6473], type: 'flight' },
    { id: 13, coordinates: [55.6761, 12.5683], type: 'flight' },
    { id: 14, coordinates: [37.7749, -122.4194], type: 'flight' },
    { id: 15, coordinates: [45.4215, -75.6906], type: 'flight' },
    { id: 16, coordinates: [43.6510, -79.3470], type: 'flight' },
    { id: 17, coordinates: [34.0522, -118.2437] }
    // Add more objects with their initial coordinates as needed
  ];

  // Create an empty array to store marker references
  var markers = [];

  // Create markers for each object and add them to the map
  objects.forEach(function(object) {
    var marker = L.marker(object.coordinates, {
      icon: airplaneIcon,
      alt: 'Flight ' + object.id  // Add alt text
    }).addTo(map);
    marker.bindPopup('Object ' + object.id);
    markers.push(marker);
  });

  // Function to update the objects' positions on the map
  function updateObjects() {
    objects.forEach(function(object) {
      var maxMoveDistance = 0.09; // Adjust this value for desired movement distance
      var newLat = object.coordinates[0] + getRandomMovement(maxMoveDistance);
      var newLng = object.coordinates[1] + getRandomMovement(maxMoveDistance);
      object.coordinates = [newLat, newLng];
    });

    // Update the markers' positions
    markers.forEach(function(marker, index) {
      marker.setLatLng(objects[index].coordinates);
    });
  }

  // Function to generate a random movement value
  function getRandomMovement(maxDistance) {
    return (Math.random() * maxDistance) - (maxDistance / 2);
  }

  // Update the objects' positions every 0.5 seconds
  setInterval(updateObjects, 500);
});



  </script>
</body>
</html>
